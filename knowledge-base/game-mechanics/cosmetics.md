# COSMETICS SYSTEM - Complete Item Specification

> *"Every piece you wear tells a story. That headpiece? From my 500th fan. These gloves? My first Legendary pull. When you see an idol dripping in black and gold, you're seeing Devotion made visible."*
> — Ika Minami, Cosmetics Tutorial

---

## Overview

The **Cosmetics System** is the visual expression of player investment in Infinite Idol. With 30 complete outfit sets distributed across 5 families, 9 equippable item slots, and a robust rarity system, cosmetics provide both aesthetic customization and visible status signaling.

All cosmetic items are NFTs on the SUI blockchain—tradable, collectible, and permanent. Players obtain cosmetics through the lootbox system and can recycle duplicates via the burn system. Nothing is purely "lost"—every pull contributes to the collection or becomes fuel for new chances.

---

## Item Slot Architecture

### The 9 Equippable Slots

Players can equip items across 9 distinct body slots, creating highly customizable looks:

| Slot # | Slot Name | Category | Set Piece | Standalone |
|--------|-----------|----------|-----------|------------|
| **1** | Head | Outfit | Yes | No |
| **2** | Chest | Outfit | Yes | No |
| **3** | Arms | Outfit | Yes | No |
| **4** | Legs | Outfit | Yes | No |
| **5** | Feet | Outfit | Yes | No |
| **6** | Back | Outfit | Yes | No |
| **7** | Neck | Accessory | No | Yes |
| **8** | L Wrist | Accessory | No | Yes |
| **9** | R Wrist | Accessory | No | Yes |

### Slot Categories

| Category | Slots | Items Per Set | Obtained From |
|----------|-------|---------------|---------------|
| **Outfit Pieces** | 6 (Head, Chest, Arms, Legs, Feet, Back) | 6 items | Family lootboxes (A-E) |
| **Accessories** | 3 (Neck, L Wrist, R Wrist) | N/A (standalone) | All lootbox types |

### Slot Rules

| Rule | Details |
|------|---------|
| **One Item Per Slot** | Cannot stack items in same slot |
| **Mixed Sets Allowed** | Can wear pieces from different sets |
| **Empty Slots Allowed** | Default appearance if unequipped |
| **Instant Swap** | No cooldown on equipment changes |
| **Preview Available** | Try-on before equipping |

---

## 30 Complete Outfit Sets

### Family Distribution

Outfit sets are organized into 5 families (A-E), with 6 sets per family:

| Family | Sets | Lootbox Source | Unlock Date |
|--------|------|----------------|-------------|
| **A Family** | 6 sets (A1-A6) | A Box | Day 1 |
| **B Family** | 6 sets (B1-B6) | B Box | Week 3 |
| **C Family** | 6 sets (C1-C6) | C Box | Week 6 |
| **D Family** | 6 sets (D1-D6) | D Box | Week 9 |
| **E Family** | 6 sets (E1-E6) | E Box | Week 12 |

**Total: 30 complete outfit sets × 6 pieces = 180 outfit items**

### A Family Sets (Available Day 1)

Dark elegance themes with black and gold foundation:

| Set ID | Set Name | Theme | Visual Description |
|--------|----------|-------|-------------------|
| **A1** | Midnight Debut | First Stage | Black velvet with gold trim, debut idol aesthetic |
| **A2** | Obsidian Crown | Royal Dark | Gothic royalty, crown motifs, deep black |
| **A3** | Twilight Veil | Mysterious | Sheer dark fabrics, shadowy elegance |
| **A4** | Onyx Flame | Fierce | Black fire accents, aggressive styling |
| **A5** | Shadow Cascade | Flowing | Layered dark silks, waterfall design |
| **A6** | Void Elegance | Minimalist | Pure black, architectural simplicity |

### B Family Sets (Unlocks Week 3)

Metallic and luminescent themes:

| Set ID | Set Name | Theme | Visual Description |
|--------|----------|-------|-------------------|
| **B1** | Golden Hour | Radiant | Gold-drenched fabrics, sunset warmth |
| **B2** | Platinum Reign | Elite | White gold metallics, pristine authority |
| **B3** | Bronze Echo | Ancient | Copper tones, artifact-inspired details |
| **B4** | Mercury Flow | Liquid | Reflective silver, mercury-like surfaces |
| **B5** | Gilded Thorn | Dangerous Beauty | Gold thorns, beautiful yet sharp |
| **B6** | Chrome Heart | Futuristic | Metallic chrome, tech-idol fusion |

### C Family Sets (Unlocks Week 6)

Celestial and cosmic themes:

| Set ID | Set Name | Theme | Visual Description |
|--------|----------|-------|-------------------|
| **C1** | Starfall | Constellation | Star patterns, falling celestial bodies |
| **C2** | Lunar Eclipse | Moon | Silver moon motifs, eclipse shadows |
| **C3** | Solar Flare | Sun | Gold sun rays, corona energy |
| **C4** | Nebula Dream | Space | Swirling cosmic clouds, purple-black |
| **C5** | Asteroid Belt | Rocky | Crystalline fragments, raw space rock |
| **C6** | Dark Matter | Void | Pure darkness, anti-light absorption |

### D Family Sets (Unlocks Week 9)

Elemental and nature themes (dark interpretation):

| Set ID | Set Name | Theme | Visual Description |
|--------|----------|-------|-------------------|
| **D1** | Black Rose | Flora | Dark botanical, thorny elegance |
| **D2** | Storm Fury | Weather | Lightning accents, tempest energy |
| **D3** | Frozen Night | Ice | Black ice crystals, cold beauty |
| **D4** | Ember Soul | Fire | Smoldering reds, contained flames |
| **D5** | Deep Ocean | Water | Abyssal blues, pressure depths |
| **D6** | Earth Core | Terra | Obsidian stone, magma veins |

### E Family Sets (Unlocks Week 12)

Ultimate prestige themes:

| Set ID | Set Name | Theme | Visual Description |
|--------|----------|-------|-------------------|
| **E1** | Eternal Chase | Signature | The iconic Infinite Idol look |
| **E2** | Senpai's Shadow | Pursuit | Silhouette styling, always just out of reach |
| **E3** | Faded Memory | Bittersweet | Translucent elements, ghost-like beauty |
| **E4** | Devotion Manifest | Power | Visible energy waves, devotion made physical |
| **E5** | Foundation Elite | Authority | Erina-inspired, controlled elegance |
| **E6** | Infinite Encore | Ultimate | The final set, combining all themes |

---

## Rarity System

### Rarity Tiers

All cosmetic items follow the unified 5-tier rarity system:

| Tier | Rarity | Numeric | Drop Rate | Border Color | Visual Treatment | Description |
|------|--------|---------|-----------|--------------|------------------|-------------|
| 0 | **Common** | 0 | 55% | Silver | Subtle shimmer | Base designs, solid foundational pieces |
| 1 | **Uncommon** | 1 | 25% | Bronze | Warm glow | Enhanced details, refined craftsmanship |
| 2 | **Epic** | 2 | 13% | Purple | Particle effects | Unique patterns, special visual effects |
| 3 | **Mythic** | 3 | 6% | Gold + Black flames | Animated | Rare exclusive designs, high prestige |
| 4 | **Limited** | 4 | 1% | Black + Gold explosion | Full animation | Ultra-premium exclusive, ultimate prestige |

### Rarity Distribution Per Set

Each outfit set contains items across all rarity tiers:

| Set Component | Common | Rare | Ultra Rare | Legendary |
|---------------|--------|------|------------|-----------|
| Head | 1 variant | 1 variant | 1 variant | 1 variant |
| Chest | 1 variant | 1 variant | 1 variant | 1 variant |
| Arms | 1 variant | 1 variant | 1 variant | 1 variant |
| Legs | 1 variant | 1 variant | 1 variant | 1 variant |
| Feet | 1 variant | 1 variant | 1 variant | 1 variant |
| Back | 1 variant | 1 variant | 1 variant | 1 variant |

**Per Set: 6 slots × 4 rarities = 24 items per set**
**Total Outfit Items: 30 sets × 24 items = 720 total outfit variations**

### Rarity Visual Differences

| Rarity | Visual Enhancement |
|--------|-------------------|
| **Common** | Clean design, standard materials |
| **Rare** | Metallic accents, enhanced textures |
| **Ultra Rare** | Glow effects, animated particles |
| **Legendary** | Full animation, unique VFX, premium materials |

### Example: A1 (Midnight Debut) Set Breakdown

| Slot | Common | Rare | Ultra Rare | Legendary |
|------|--------|------|------------|-----------|
| Head | Black ribbon | Gold-trimmed ribbon | Glowing ribbon | Animated aurora ribbon |
| Chest | Black bodice | Gold-embroidered bodice | Shimmering bodice | Living shadow bodice |
| Arms | Black gloves | Gold-accented gloves | Particle gloves | Flame-wreathed gloves |
| Legs | Black skirt | Gold-hemmed skirt | Floating skirt layers | Reality-bending skirt |
| Feet | Black heels | Gold-soled heels | Hovering heels | Void-step heels |
| Back | Black cape | Gold-lined cape | Flowing energy cape | Cosmic trail cape |

---

## Accessory Items

### Accessory Categories

Unlike outfit pieces, accessories are standalone items not bound to sets:

| Slot | Item Types | Total Items |
|------|------------|-------------|
| **Neck** | Chokers, Necklaces, Collars, Pendants | 48 items (12 per rarity) |
| **L Wrist** | Bracelets, Cuffs, Bands, Watches | 48 items (12 per rarity) |
| **R Wrist** | Bracelets, Cuffs, Bands, Watches | 48 items (12 per rarity) |

**Total Accessories: 144 items**

### Accessory Themes

| Category | Common | Rare | Ultra Rare | Legendary |
|----------|--------|------|------------|-----------|
| **Neck** | Simple chains | Ornate pendants | Glowing gems | Animated elements |
| **L Wrist** | Basic bands | Metallic cuffs | Energy bracelets | Living accessories |
| **R Wrist** | Basic bands | Metallic cuffs | Energy bracelets | Living accessories |

### Accessory Examples

| Rarity | Neck | L Wrist | R Wrist |
|--------|------|---------|---------|
| **Common** | Black Ribbon Choker | Simple Gold Band | Simple Gold Band |
| **Rare** | Obsidian Pendant | Etched Gold Cuff | Etched Gold Cuff |
| **Ultra Rare** | Glowing Devotion Crystal | Particle Stream Band | Particle Stream Band |
| **Legendary** | Living Shadow Collar | Animated Fire Bracelet | Animated Ice Bracelet |

---

## Complete Item Count

### Grand Total Summary

| Category | Count |
|----------|-------|
| Outfit Sets | 30 |
| Pieces Per Set | 6 |
| Rarity Variants Per Set | 4 |
| Total Outfit Items | 720 |
| Accessory Types | 3 |
| Accessories Per Type | 48 |
| Total Accessories | 144 |
| **Grand Total Items** | **864** |

### Distribution by Rarity

| Rarity | Outfit Items | Accessories | Total |
|--------|--------------|-------------|-------|
| Common | 180 | 36 | 216 |
| Rare | 180 | 36 | 216 |
| Ultra Rare | 180 | 36 | 216 |
| Legendary | 180 | 36 | 216 |
| **Total** | **720** | **144** | **864** |

---

## Burn System

### Standard Burn

Duplicate items can be recycled into new chances:

| Input | Output | Requirements |
|-------|--------|--------------|
| 4 duplicate items (same family) | 1 Lootbox (same family) | Items must be unequipped |
| Any 4 duplicate items (mixed family) | 1 Random Family Lootbox | Items must be unequipped |

### Burn Process

```
Item Burn Flow:
1. Player selects 4+ duplicate items from inventory
2. System verifies: same item? Unequipped? Same family?
3. Confirmation prompt shows input and output
4. Player confirms burn transaction
5. Item NFTs permanently destroyed (burned)
6. New lootbox NFT minted to wallet
7. Animation plays (burning into new box)
```

### Burn Rules

| Rule | Details |
|------|---------|
| **Minimum Count** | Must burn exactly 4 items |
| **Same Item Required** | All 4 must be identical (same item ID) |
| **Unequipped Only** | Cannot burn equipped items |
| **Irreversible** | Burned items cannot be recovered |
| **Instant Output** | New lootbox minted immediately |
| **Same Family Output** | Burn A-family items → A Box |

### Prestige Burn Milestones

Lifetime burn counts unlock special rewards:

| Lifetime Burns | Reward | One-Time |
|----------------|--------|----------|
| 4,000 items burned | 1 Golden Lootbox | Yes |
| 40,000 items burned | 1 Diamond Lootbox | Yes |

### Burn Philosophy

The burn system serves multiple purposes:

| Purpose | Implementation |
|---------|----------------|
| **Duplicate Value** | No pull is truly wasted |
| **Collection Recycling** | Excess items become new chances |
| **Secondary Pursuit** | Prestige milestones add goals |
| **Economy Circulation** | Items leave supply through burning |
| **Deflationary Pressure** | Reduces total NFT supply over time |

---

## Set Bonuses (Future)

### Planned Implementation

While not in initial pre-registration, set bonuses are designed for future:

| Bonus Type | Requirement | Effect |
|------------|-------------|--------|
| **Half Set** | 3 pieces from same set | Minor visual enhancement |
| **Full Set** | 6 pieces from same set | Full set glow + bonus animation |
| **Legendary Set** | 6 Legendary pieces from same set | Ultimate visual effect |
| **Cross-Family** | 1 Legendary from each family | Special aura |

### Set Completion Tracking

The Checkbook system tracks:

| Tracked Data | Display |
|--------------|---------|
| Total items owned | X / 864 |
| Set completion per set | X / 24 |
| Family completion | X / 144 |
| Rarity distribution | Common/Rare/UR/Legendary counts |
| Duplicate counts | Per-item inventory |

---

## NFT Implementation

### Item NFT Structure

| Field | Type | Description |
|-------|------|-------------|
| `item_id` | String | Unique item identifier (e.g., "A1_HEAD_LEGENDARY") |
| `set_id` | String | Set identifier (e.g., "A1") |
| `family` | String | Family (A/B/C/D/E) |
| `slot` | String | Equipment slot |
| `rarity` | String | Common/Rare/UltraRare/Legendary |
| `season` | u32 | Season when minted |
| `mint_timestamp` | u64 | Creation time |
| `source` | String | How obtained (lootbox type) |

### Item ID Format

```
Format: {FAMILY}{SET}_{SLOT}_{RARITY}

Examples:
- A1_HEAD_COMMON
- A1_HEAD_LEGENDARY
- B3_CHEST_ULTRARARE
- NECK_ACCESSORY_RARE_07
```

### On-Chain Operations

| Operation | Gas Cost | Description |
|-----------|----------|-------------|
| Equip Item | ~0.001 SUI | Change equipped status |
| Unequip Item | ~0.001 SUI | Remove from slot |
| Transfer/Trade | ~0.01 SUI | Send to another wallet |
| Burn Items | ~0.005 SUI | Destroy for new lootbox |

---

## Trading System

### Item Trading Rules

| Rule | Details |
|------|---------|
| **Marketplace** | Tradable on any SUI NFT marketplace |
| **No Restrictions** | Items can be traded freely (unlike Battle Pass) |
| **Equipped Items** | Must unequip before trading |
| **Listing** | Set your own price |
| **No Trade Tax** | Game takes no cut from trades |

### Market Value Factors

| Factor | Impact on Value |
|--------|-----------------|
| **Rarity** | Legendary >> Ultra Rare >> Rare >> Common |
| **Set Popularity** | Popular sets command premium |
| **Completion Need** | Last piece for set = higher demand |
| **Season** | Early season items become collector pieces |
| **Visual Appeal** | Subjective but influential |

---

## Visual Preview System

### Try-On Feature

| Feature | Details |
|---------|---------|
| **Preview Any Item** | See item on avatar before equipping |
| **Preview Unowned** | Can preview items not yet owned |
| **Mix and Match** | Preview combinations before committing |
| **Save Outfits** | Store favorite combinations |
| **Share Previews** | Generate shareable outfit images |

### Outfit Presets

| Preset Slot | Details |
|-------------|---------|
| Slot 1 | Default preset |
| Slot 2 | Alternate preset |
| Slot 3 | Special occasion |
| Slots 4-10 | Unlocked at milestones |

---

## Dark Luxury Aesthetic

### Design Principles

All cosmetic items follow the Infinite Idol brand identity:

| Principle | Implementation |
|-----------|----------------|
| **Black Foundation** | Black is the base of all designs |
| **Gold Accents** | Primary accent color |
| **No Pink** | Explicitly forbidden in color palette |
| **No Cutesy** | No kawaii, chibi, or saccharine elements |
| **Premium Materials** | Velvet, silk, metal—not cotton candy |
| **Elegant Animation** | Subtle, sophisticated movement |

### Forbidden Elements

| Element | Reason |
|---------|--------|
| Pink as primary color | Breaks dark luxury brand |
| Hearts and stars (cute style) | Too saccharine |
| Chibi proportions | Not premium aesthetic |
| Bright pastel colors | Conflicts with brand |
| Sparkle-spam effects | Juvenile appearance |

### Allowed Elements

| Element | Usage |
|---------|-------|
| Hearts (gothic style) | Dark romantic themes |
| Stars (cosmic style) | Space/celestial themes |
| Flowers (dark botanical) | Thorny, shadowy interpretations |
| Fire (controlled) | Black flame, ember effects |
| Light effects | Gold, platinum, cosmic—never rainbow |

---

## Collection Achievement System

### Collection Milestones

| Milestone | Items Collected | Reward |
|-----------|-----------------|--------|
| First Steps | 10 items | Collection badge |
| Growing Wardrobe | 50 items | Special title |
| Fashion Forward | 100 items | Unique accessory |
| Devoted Collector | 250 items | Golden lootbox |
| Fashion Icon | 500 items | Diamond lootbox |
| Eternal Fashionista | 864 items (complete) | Ultimate exclusive item |

### Rarity Milestones

| Milestone | Requirement | Reward |
|-----------|-------------|--------|
| Lucky Find | First Legendary | Achievement badge |
| Fortune's Favorite | 10 Legendaries | Special title |
| Blessed by RNG | 50 Legendaries | Exclusive accessory |
| Legendary Legend | 100 Legendaries | Unique aura effect |

---

## Whale Psychology Integration

### Status Signaling

| Investment Level | Visible Status |
|------------------|----------------|
| Casual | Mix of Common/Rare equipped |
| Dedicated | Ultra Rare items visible |
| Whale | Legendary items equipped |
| Ultimate | Full Legendary sets |

### Collection as Investment

| Aspect | Value Proposition |
|--------|-------------------|
| NFT Ownership | Every item is a tradable asset |
| Rarity Retention | Legendary items retain/increase value |
| Set Completion | Complete sets have collector premium |
| Early Access | First-season items become rare |

### Flex Opportunities

| Opportunity | Implementation |
|-------------|----------------|
| Profile Display | Showcase equipped items |
| Collection Showcase | Display collection completion |
| Rarity Statistics | Show Legendary count |
| Trading History | Demonstrate market activity |

---

## Canon Integration

### Narrative Parallel

Cosmetics in Infinite Idol mirror the idol aesthetic system:

| Game Mechanic | Narrative Element |
|---------------|-------------------|
| Outfit sets | Stage costumes |
| Accessories | Personal flair |
| Rarity tiers | Quality of Devotion-crafted items |
| Set bonuses | Coordinated performance boost |
| Burn system | Devotion recycling |

### Canon Rule Compliance

| Rule | Implementation |
|------|----------------|
| **#1: Devotion is Literal** | Cosmetics are Devotion made visible |
| **#8: Built on SUI** | All items are SUI NFTs |
| **#10: Dark Luxury** | No pink, no cutesy, black/gold foundation |

### In-World Explanation

> Cosmetics on the Eternal Stage aren't mere clothes—they're crystallized Devotion. When fans pour their love into an idol, that energy manifests as wearable art. The rarer the devotion's intensity, the more spectacular the manifestation. A Legendary item isn't just rare—it's proof of the purest devotion.

---

## Technical Specifications

### Rendering Priority

| Slot | Z-Index | Layer Order |
|------|---------|-------------|
| Back | 0 | Furthest back |
| Legs | 1 | Lower body |
| Feet | 2 | Below legs |
| Chest | 3 | Upper body |
| Arms | 4 | Over chest |
| Head | 5 | Top layer |
| Neck | 6 | Over chest |
| L Wrist | 7 | Visible on arm |
| R Wrist | 8 | Visible on arm |

### Animation Specifications

| Rarity | Animation Type | Frame Rate | Complexity |
|--------|----------------|------------|------------|
| Common | None | N/A | Static |
| Uncommon | Subtle shimmer | 12 FPS | Low |
| Epic | Particle effects | 24 FPS | Medium |
| Mythic | Advanced animation | 30 FPS | High |
| Limited | Full cinematic animation | 60 FPS | Maximum |

### Storage Requirements

| Data | Size | Storage Location |
|------|------|------------------|
| Item metadata | ~500 bytes | On-chain |
| Visual reference | URI link | Off-chain CDN |
| Animation data | URI link | Off-chain CDN |
| Ownership proof | ~200 bytes | On-chain |

---

## Technical Implementation

### Equipment Slot System (Numeric Mapping)

Smart contracts use numeric slot values:

| Player-Facing Slot | Numeric Value | Technical Name | Category |
|-------------------|---------------|----------------|----------|
| Head (Slot 1) | 0 | `slot: 0` | Set (Outfit piece) |
| Chest (Slot 2) | 0 | `slot: 0` | Set (Outfit piece) |
| Arms (Slot 3) | 0 | `slot: 0` | Set (Outfit piece) |
| Legs (Slot 4) | 0 | `slot: 0` | Set (Outfit piece) |
| Feet (Slot 5) | 0 | `slot: 0` | Set (Outfit piece) |
| Back (Slot 6) | 0 | `slot: 0` | Set (Outfit piece) |
| Neck (Slot 7) | 1 | `slot: 1` | Accessory |
| L Wrist (Slot 8) | 1 | `slot: 1` | Accessory |
| R Wrist (Slot 9) | 1 | `slot: 1` | Accessory |
| Pet Slot | 9 | `slot: 9` | Pet |

**Technical Notes:**
- **Outfit pieces** (slots 1-6) all use `slot: 0` (Set category)
- **Accessories** (slots 7-9) all use `slot: 1` (Accessory category)
- **Pets** use dedicated `slot: 9` (cannot be merged)
- Player-facing UI shows specific slot positions (1-9)
- Smart contract groups by category (0, 1, 9)

### Asset NFT Structure (Sui Move)

```move
public struct Asset has key, store {
    id: UID,
    token_id: u64,           // Unique asset ID
    metadata: Metadata,       // Item details
    upgrade_level: u8,        // 0 = base, 1 = +, 2 = ++
}

public struct Metadata has copy, drop, store {
    id: ID,                   // Item definition ID
    slot: u8,                 // 0=Set, 1=Accessory, 9=Pet
    name: String,             // Item name
    rarity: u8,               // 0-4 (Common to Limited)
    attributes: VecMap<String, String>,  // Family, set, visual data
}
```

**Key Fields:**
- `token_id`: Unique identifier for this specific asset instance
- `slot`: Numeric category (0/1/9)
- `rarity`: Numeric tier (0-4)
- `upgrade_level`: Merge progression (0, 1, 2)
- `attributes`: Flexible metadata (family, set ID, visual URI, etc.)

### Asset Merging & Upgrading System

Players can combine multiple identical assets to upgrade them:

**Upgrade Levels:**
| Level | Display | Visual Effect | Merge Requirement |
|-------|---------|---------------|-------------------|
| 0 | Base | Standard appearance | - |
| 1 | + | Enhanced glow, +10% visual intensity | Merge 3-5 base items (admin-configurable) |
| 2 | ++ | Maximum glow, +25% visual intensity | Merge 3-5 level 1 items (admin-configurable) |

**Merge Rules:**
- All assets must have **identical** `item_id` (same item definition)
- All assets must have **identical** `upgrade_level`
- **Cannot merge pets** (`slot: 9`)
- Number of assets required is **admin-configurable** per merge
- Merged assets are **burned**, one asset is **upgraded** in-place
- Upgrade is **irreversible**

**Smart Contract Function:**
```move
public fun merge_assets(
    self: &mut State,
    av: &AV,
    main_asset: &mut Asset,    // Asset to upgrade (modified in-place)
    assets: vector<Asset>,      // Assets to consume (burned)
    clock: &Clock,
    ctx: &mut TxContext,
)
```

**Process:**
1. Verify all assets have same `item_id`
2. Verify all assets have same `upgrade_level`
3. Verify `main_asset` is not `slot: 9` (no pet merging)
4. Verify `assets.length()` matches `merge_items_required` config
5. Burn all assets in `assets` vector
6. Increment `main_asset.upgrade_level` by 1
7. Emit `AssetMerged` event

**Visual Examples:**
- **Base** → Bronze Frame cosmetic item
- **+** → Bronze Frame+ with subtle golden aura
- **++** → Bronze Frame++ with intense golden animation

### NFT Trading & Locking System

**Trading Mechanics:**
- All cosmetic assets are **tradable NFTs** by default
- Assets can be listed on any Sui-compatible marketplace
- No trading fees from game (marketplace fees may apply)
- Assets retain full metadata when traded

**Locking System:**
```move
public struct LockedAsset has key, store {
    id: UID,
    asset: Asset,            // Locked asset (wrapped)
    locked_at: u64,          // Timestamp of lock
}
```

**Lock Functions:**
```move
// Lock an asset (prevents trading)
public fun lock_asset(
    _self: &mut State,
    av: &AV,
    asset: Asset,
    clock: &Clock,
    ctx: &mut TxContext,
) -> LockedAsset

// Unlock an asset (enable trading again)
public fun unlock_asset(
    _self: &mut State,
    av: &AV,
    locked_asset: LockedAsset,
    clock: &Clock,
    ctx: &mut TxContext,
) -> Asset
```

**Why Lock Assets:**
- **Prevent accidental trading**: Lock valuable Limited items
- **Burn protection**: Locked assets cannot be burned
- **Collection organization**: Mark "keepers" vs "tradeables"
- **Security**: Protect assets if wallet is compromised

**Locked Asset Rules:**
- Cannot be traded (not transferable)
- Cannot be burned
- Cannot be merged
- Can still be equipped/unequipped
- Owner can unlock anytime (instant, free)

### Asset Registry & ID Management

**Asset Registry (On-Chain):**
```move
public struct AssetRegistry has store {
    items: VecMap<ID, ItemDefinition>,  // Item ID → Definition
    enabled_items: VecSet<ID>,           // Currently droppable items
}

public struct ItemDefinition has copy, drop, store {
    id: ID,
    slot: u8,              // 0/1/9
    rarity: u8,            // 0-4
    name: String,
    set_family: String,    // A/B/C/D/E or N/A for accessories
    attributes: VecMap<String, String>,
}
```

**Admin Operations:**
- `admin_register_item()` - Add new item to registry
- `admin_disable_item()` - Remove from drop pools (existing items unaffected)
- `admin_update_item_metadata()` - Update name/attributes (existing NFTs update)

**ID Manager (Lootbox Item Selection):**
```move
public struct IDManager has store {
    item_pools: VecMap<u8, VecSet<ID>>,  // rarity → [item IDs]
    pet_pools: VecMap<u8, VecSet<ID>>,   // rarity → [pet IDs]
}
```

Used during lootbox opening to randomly select an item from the appropriate rarity pool.

### Database Schema

**Asset Table (Off-Chain Tracking):**
```sql
Asset {
  id: UUID,
  userId: UUID,
  tokenId: BigInt,           // Matches on-chain token_id
  itemId: String,            // Item definition ID
  slot: Int,                 // 0/1/9
  rarity: Int,               // 0-4
  upgradeLevel: Int,         // 0/1/2
  isEquipped: Boolean,
  isLocked: Boolean,
  acquiredAt: DateTime,
  lastTraded: DateTime?,
}
```

**Collection Tracking:**
```sql
CollectionProgress {
  id: UUID,
  userId: UUID,
  itemId: String,
  ownedCount: Int,
  hasEquipped: Boolean,
  firstAcquired: DateTime,
}
```

### Admin Operations

**Smart Contract Functions:**
- `admin_register_item(slot: u8, rarity: u8, metadata: Metadata)` - Add item
- `admin_disable_item(item_id: ID)` - Remove from drops
- `admin_mint_asset(user: address, item_id: ID, rarity: u8)` - Direct grant
- `admin_burn_asset(asset: Asset)` - Emergency removal
- `admin_set_merge_config(items_required: u64)` - Configure merge requirements

**Backend API Endpoints:**
- `POST /admin/assets/mint` - Mint asset to user
- `POST /admin/assets/register` - Register new item definition
- `GET /admin/assets/registry` - View all registered items
- `POST /admin/assets/disable/:itemId` - Disable from drops
- `GET /admin/collection/:userId` - View user's collection

---

## Error Handling

| Error | Cause | Resolution |
|-------|-------|------------|
| `SLOT_OCCUPIED` | Equipping to filled slot | Unequip existing first |
| `NOT_OWNER` | Operating on unowned item | Verify wallet ownership |
| `ITEM_EQUIPPED` | Trading/burning equipped item | Unequip first |
| `BURN_COUNT_INVALID` | Not exactly 4 duplicates | Select exactly 4 identical items |
| `DIFFERENT_ITEMS` | Burning non-identical items | All 4 must be same item ID |

---

## Technical Reference

For developers and deep technical implementation details:

**Smart Contracts:**
- [SUI_CONTRACTS.md](./technical-reference/SUI_CONTRACTS.md) - Move contracts, Asset/LockedAsset structs, merging system, admin functions
- [BACKEND.md](./technical-reference/BACKEND.md) - REST API endpoints, database schema, collection tracking

**Architecture:**
- [ARCHITECTURE.md](./technical-reference/ARCHITECTURE.md) - System architecture, NFT management, data flows

---

## Related Documentation

### Core Systems
- [gacha-system.md](./gacha-system.md) - Lootbox mechanics (source of items)
- [gem-system.md](./gem-system.md) - Currency that funds leveling → lootboxes → items
- [battle-pass.md](./battle-pass.md) - Progression tracking, leveling system
- [pre-registration-spec.md](./pre-registration-spec.md) - Complete system overview

### Additional Context
- See `knowledge-base/crypto/sui-integration.md` for NFT implementation details
- See `knowledge-base/brand/visual-identity.md` for design guidelines and aesthetic rules
- See `knowledge-base/brand/dark-luxury-guide.md` for visual treatment standards

---

*"864 items. That's how many exist in the collection. Some fans will catch them all—every Common, every Legendary, every shadow and every flame. But remember: it's not about having everything. It's about what you choose to wear. Your outfit is your statement. Make it count~"*

— Ika Minami

---
